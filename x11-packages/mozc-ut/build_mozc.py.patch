--- a/src/build_mozc.py
+++ b/src/build_mozc.py
@@ -165,6 +165,13 @@ def GetGypFileNames(options):
     if not PkgExists('ibus-1.0 >= 1.4.1'):
       logging.info('removing ibus.gyp.')
       gyp_file_names.remove('%s/unix/ibus/ibus.gyp' % SRC_DIR)
+    # Add fcitx.gyp/fcitx5.gyp if fcitx version is >=4.
+    if not PkgExists('fcitx >= 4'):
+      logging.info('remove fcitx.gyp.')
+      gyp_file_names.remove('%s/unix/fcitx/fcitx.gyp' % SRC_DIR)
+    if not PkgExists('Fcitx5Core >= 5'):
+      logging.info('remove fcitx5.gyp.')
+      gyp_file_names.remove('%s/unix/fcitx5/fcitx5.gyp' % SRC_DIR)
   gyp_file_names.sort()
   return gyp_file_names
 
