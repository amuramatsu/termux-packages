--- a/src/build_mozc.py.orig	2018-04-03 08:03:55.000000000 +0900
+++ b/src/build_mozc.py	2020-08-22 00:00:12.000000000 +0900
@@ -405,9 +405,7 @@
   if target_platform == 'Android':
     targets = [SRC_DIR + '/android/android.gyp:apk']
   elif target_platform == 'Linux':
-    targets = [SRC_DIR + '/server/server.gyp:mozc_server',
-               SRC_DIR + '/renderer/renderer.gyp:mozc_renderer',
-               SRC_DIR + '/gui/gui.gyp:mozc_tool']
+    targets = [SRC_DIR + '/server/server.gyp:mozc_server']
     if PkgExists('ibus-1.0 >= 1.4.1'):
       targets.append(SRC_DIR + '/unix/ibus/ibus.gyp:ibus_mozc')
   elif target_platform == 'Mac':
@@ -730,6 +728,7 @@
   # TODO(yukawa): Enable GYP_CROSSCOMPILE for Windows.
   if not IsWindows():
     os.environ['GYP_CROSSCOMPILE'] = '1'
+  gyp_options.extend(['-D', 'enable_gtk_renderer=0'])
 
   # Run GYP.
   logging.info('Running GYP...')
